{% extends "base.html" %}
{% block body %}
<section class="hero is-large">
  <div class="hero-body">
    <div class="container has-text-centered">
      <h1 class="title">Kindle Manga</h1>
      <h2 class="subtitle">Tìm kiếm và tải Manga yêu thích của bạn về Kindle</h2>
      <form method='get' hx-get="{% url "manga:search" %}" hx-params="*" class="control" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-push-url="true">
        <div class="columns">
          <div id="app" class="column is-10-mobile is-offset-1-mobile is-8-desktop is-offset-2-desktop">
            <div class="field">
              <div class="control">
                <input type="text" 
                  name="q" placeholder="Tên manga, từ khóa ..." 
                  hx-get="{{ scheme }}://{{ request.get_host }}/ajax/search/" 
                  hx-trigger="keyup changed delay:100ms" 
                  hx-target="#search-results" 
                  hx-indicator=".is-loading"
                  autocomplete="off" 
                  class="input is-primary" 
                  hx-push-url="false"
                  >
                <div id="search-results">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="columns">
          <div class="column is-2-desktop is-offset-5-desktop has-text-centered">
            <button class="button is-primary is-medium" type="submit">
              <span class="icon is-left"><i class="fas fa-search"></i></span> <span>Tìm kiếm</span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>

{% endblock %}
